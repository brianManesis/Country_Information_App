{"ast":null,"code":"import _regeneratorRuntime from\"/home/brian/Desktop/Projects/coding-challenge-submission/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/brian/Desktop/Projects/coding-challenge-submission/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/home/brian/Desktop/Projects/coding-challenge-submission/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useEffect,useState}from'react';import{DisplayFastFacts,DisplayFullFacts}from'./Components/InfoDisplay';import{SearchBar}from'./Components/SearchBar';import'./App.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),search=_useState2[0],setSearch=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),countryFastFacts=_useState4[0],setCountryFastFacts=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),countryFullFacts=_useState6[0],setCountryFullFacts=_useState6[1];/**\n   *  set up effect hook dependent on search state.\n   *  fetch data from backend server on the rest endpoint /name\n   *  with parameter set to the value of the search state.\n   */useEffect(function(){var handleCountryChange=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(){return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:if(search!==\"\"){fetch(\"http://localhost:5000/name/\".concat(search)).then(/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(data){var currencies,newCountry;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return data.json();case 2:data=_context.sent;currencies=data.currencies;newCountry={flag:data.flags.png,countryName:data.name.official,population:data.population,capital:data.capital[0],region:data.region,currency:currencies[Object.keys(currencies)[0]].name};setCountryFastFacts(newCountry);setCountryFullFacts(data);case 7:case\"end\":return _context.stop();}},_callee);}));return function(_x){return _ref2.apply(this,arguments);};}()).catch(function(err){console.log(err);setCountryFastFacts(null);setCountryFullFacts(null);});}else{setCountryFastFacts(null);setCountryFullFacts(null);}case 1:case\"end\":return _context2.stop();}},_callee2);}));return function handleCountryChange(){return _ref.apply(this,arguments);};}();var delay=setTimeout(handleCountryChange,250);return function(){return clearTimeout(delay);};},[search]);/**\n   *  Render the searchbar, the fast facts,\n   *  and the full facts of the country.\n   */return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsx(SearchBar,{search:search,setSearch:setSearch}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(DisplayFastFacts,{countryFastFacts:countryFastFacts}),/*#__PURE__*/_jsx(DisplayFullFacts,{countryFullFacts:countryFullFacts})]});}export default App;","map":{"version":3,"names":["useEffect","useState","DisplayFastFacts","DisplayFullFacts","SearchBar","jsx","_jsx","jsxs","_jsxs","App","_useState","_useState2","_slicedToArray","search","setSearch","_useState3","_useState4","countryFastFacts","setCountryFastFacts","_useState5","_useState6","countryFullFacts","setCountryFullFacts","handleCountryChange","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee2","wrap","_callee2$","_context2","prev","next","fetch","concat","then","_ref2","_callee","data","currencies","newCountry","_callee$","_context","json","sent","flag","flags","png","countryName","name","official","population","capital","region","currency","Object","keys","stop","_x","apply","arguments","catch","err","console","log","delay","setTimeout","clearTimeout","className","children"],"sources":["/home/brian/Desktop/Projects/coding-challenge-submission/frontend/src/App.js"],"sourcesContent":["import { useEffect, useState } from 'react';\nimport { DisplayFastFacts, DisplayFullFacts } from './Components/InfoDisplay';\nimport { SearchBar } from './Components/SearchBar';\nimport './App.css';\n\n\n\nfunction App() {\n  const [search,setSearch] = useState(\"\");\n  const [countryFastFacts, setCountryFastFacts] = useState(null);\n  const [countryFullFacts,setCountryFullFacts] = useState(null);\n\n  /**\n   *  set up effect hook dependent on search state.\n   *  fetch data from backend server on the rest endpoint /name\n   *  with parameter set to the value of the search state.\n   */\n  useEffect(()=>{\n    const handleCountryChange = async() =>{\n      if(search!==\"\"){\n        fetch(`http://localhost:5000/name/${search}`)\n        .then(async data=>{\n            data = await data.json();\n            let currencies = data.currencies;\n            let newCountry = {\n            flag: data.flags.png,\n            countryName: data.name.official,\n            population:data.population,\n            capital:data.capital[0],\n            region:data.region,\n            currency:currencies[Object.keys(currencies)[0]].name\n          }\n          setCountryFastFacts(newCountry);\n          setCountryFullFacts(data);\n        })\n        .catch(err=>{\n          console.log(err);\n          setCountryFastFacts(null);\n          setCountryFullFacts(null);\n        });\n      }\n      else{ setCountryFastFacts(null); setCountryFullFacts(null); }\n    }\n    const delay = setTimeout(handleCountryChange,250);\n    return ()=> clearTimeout(delay);\n  },[search]);\n\n  /**\n   *  Render the searchbar, the fast facts,\n   *  and the full facts of the country.\n   */\n  return (\n    <div className=\"App\">\n        <SearchBar search={search} setSearch = {setSearch}/>\n        <br></br>\n        <DisplayFastFacts countryFastFacts={countryFastFacts}/>\n        <DisplayFullFacts countryFullFacts={countryFullFacts}/>\n    </div>\n  );\n}\nexport default App;"],"mappings":"qdAAA,OAASA,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAC3C,OAASC,gBAAgB,CAAEC,gBAAgB,KAAQ,0BAA0B,CAC7E,OAASC,SAAS,KAAQ,wBAAwB,CAClD,MAAO,WAAW,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAInB,QAAS,CAAAC,GAAGA,CAAA,CAAG,CACb,IAAAC,SAAA,CAA2BT,QAAQ,CAAC,EAAE,CAAC,CAAAU,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAAhCG,MAAM,CAAAF,UAAA,IAACG,SAAS,CAAAH,UAAA,IACvB,IAAAI,UAAA,CAAgDd,QAAQ,CAAC,IAAI,CAAC,CAAAe,UAAA,CAAAJ,cAAA,CAAAG,UAAA,IAAvDE,gBAAgB,CAAAD,UAAA,IAAEE,mBAAmB,CAAAF,UAAA,IAC5C,IAAAG,UAAA,CAA+ClB,QAAQ,CAAC,IAAI,CAAC,CAAAmB,UAAA,CAAAR,cAAA,CAAAO,UAAA,IAAtDE,gBAAgB,CAAAD,UAAA,IAACE,mBAAmB,CAAAF,UAAA,IAE3C;AACF;AACA;AACA;AACA,KACEpB,SAAS,CAAC,UAAI,CACZ,GAAM,CAAAuB,mBAAmB,6BAAAC,IAAA,CAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAG,SAAAC,SAAA,SAAAF,mBAAA,GAAAG,IAAA,UAAAC,UAAAC,SAAA,iBAAAA,SAAA,CAAAC,IAAA,CAAAD,SAAA,CAAAE,IAAA,SAC1B,GAAGpB,MAAM,GAAG,EAAE,CAAC,CACbqB,KAAK,+BAAAC,MAAA,CAA+BtB,MAAM,EAAG,CAC5CuB,IAAI,6BAAAC,KAAA,CAAAZ,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAC,SAAAW,QAAMC,IAAI,MAAAC,UAAA,CAAAC,UAAA,QAAAf,mBAAA,GAAAG,IAAA,UAAAa,SAAAC,QAAA,iBAAAA,QAAA,CAAAX,IAAA,CAAAW,QAAA,CAAAV,IAAA,SAAAU,QAAA,CAAAV,IAAA,SACC,CAAAM,IAAI,CAACK,IAAI,EAAE,QAAxBL,IAAI,CAAAI,QAAA,CAAAE,IAAA,CACAL,UAAU,CAAGD,IAAI,CAACC,UAAU,CAC5BC,UAAU,CAAG,CACjBK,IAAI,CAAEP,IAAI,CAACQ,KAAK,CAACC,GAAG,CACpBC,WAAW,CAAEV,IAAI,CAACW,IAAI,CAACC,QAAQ,CAC/BC,UAAU,CAACb,IAAI,CAACa,UAAU,CAC1BC,OAAO,CAACd,IAAI,CAACc,OAAO,CAAC,CAAC,CAAC,CACvBC,MAAM,CAACf,IAAI,CAACe,MAAM,CAClBC,QAAQ,CAACf,UAAU,CAACgB,MAAM,CAACC,IAAI,CAACjB,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC,CAACU,IAClD,CAAC,CACDhC,mBAAmB,CAACuB,UAAU,CAAC,CAC/BnB,mBAAmB,CAACiB,IAAI,CAAC,CAAC,wBAAAI,QAAA,CAAAe,IAAA,MAAApB,OAAA,GAC3B,mBAAAqB,EAAA,SAAAtB,KAAA,CAAAuB,KAAA,MAAAC,SAAA,QAAC,CACDC,KAAK,CAAC,SAAAC,GAAG,CAAE,CACVC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC,CAChB7C,mBAAmB,CAAC,IAAI,CAAC,CACzBI,mBAAmB,CAAC,IAAI,CAAC,CAC3B,CAAC,CAAC,CACJ,CAAC,IACG,CAAEJ,mBAAmB,CAAC,IAAI,CAAC,CAAEI,mBAAmB,CAAC,IAAI,CAAC,CAAE,CAAC,wBAAAS,SAAA,CAAA2B,IAAA,MAAA9B,QAAA,GAC9D,kBAxBK,CAAAL,mBAAmBA,CAAA,SAAAC,IAAA,CAAAoC,KAAA,MAAAC,SAAA,OAwBxB,CACD,GAAM,CAAAK,KAAK,CAAGC,UAAU,CAAC5C,mBAAmB,CAAC,GAAG,CAAC,CACjD,MAAO,kBAAK,CAAA6C,YAAY,CAACF,KAAK,CAAC,GACjC,CAAC,CAAC,CAACrD,MAAM,CAAC,CAAC,CAEX;AACF;AACA;AACA,KACE,mBACEL,KAAA,QAAK6D,SAAS,CAAC,KAAK,CAAAC,QAAA,eAChBhE,IAAA,CAACF,SAAS,EAACS,MAAM,CAAEA,MAAO,CAACC,SAAS,CAAIA,SAAU,EAAE,cACpDR,IAAA,SAAS,cACTA,IAAA,CAACJ,gBAAgB,EAACe,gBAAgB,CAAEA,gBAAiB,EAAE,cACvDX,IAAA,CAACH,gBAAgB,EAACkB,gBAAgB,CAAEA,gBAAiB,EAAE,GACrD,CAEV,CACA,cAAe,CAAAZ,GAAG"},"metadata":{},"sourceType":"module","externalDependencies":[]}